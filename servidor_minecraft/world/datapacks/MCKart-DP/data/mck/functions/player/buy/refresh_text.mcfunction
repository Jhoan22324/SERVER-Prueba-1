execute store result score number mck_temp run data get storage databases output.data.price
execute store result score currency mck_temp run data get storage databases output.data.currency
function mck:shop/make_number


execute if data storage databases {output:{data:{amount:-1}}} run data modify storage temp in_stock set value []
execute unless data storage databases {output:{data:{amount:-1}}} run data modify storage temp in_stock set value ['{"text":"  "}','{"nbt":"output.data.amount","storage":"databases","color":"#FFC591","bold":true,"italic":false}','{"translate":"shop.in_stock","color":"#E6EDC3","bold":true,"italic":false}']


execute if data storage databases {output:{data:{currency:0b}}} if data storage databases {output:{data:{sale:0}}} run data modify entity @e[tag=mck_shop_text,limit=1,sort=nearest,type=text_display] text set value '[{"text":""},{"nbt":"output.data.icon.tag.display.Name","storage":"databases","interpret":true},{"nbt":"in_stock[]","storage":"temp","interpret":true,"separator":""},{"text":"\\n\\n"},{"nbt":"output.data.icon.tag.display.Lore[0]","storage":"databases","interpret":true},{"text":"\\n"},{"nbt":"output.data.icon.tag.display.Lore[1]","storage":"databases","interpret":true},{"text":"\\n\\n"},{"nbt":"number[]","storage":"temp","interpret":true,"separator":""},{"text":"\\n\\n"},{"translate":"shop.coins","color":"#FFE878","bold":true,"italic":false},{"text":" \\uaae0"}]'
execute if data storage databases {output:{data:{currency:0b}}} unless data storage databases {output:{data:{sale:0}}} run data modify entity @e[tag=mck_shop_text,limit=1,sort=nearest,type=text_display] text set value '[{"text":""},{"nbt":"output.data.icon.tag.display.Name","storage":"databases","interpret":true},{"nbt":"in_stock[]","storage":"temp","interpret":true,"separator":""},{"text":"\\n\\n"},{"nbt":"output.data.icon.tag.display.Lore[0]","storage":"databases","interpret":true},{"text":"\\n"},{"nbt":"output.data.icon.tag.display.Lore[1]","storage":"databases","interpret":true},{"text":"\\n\\n"},{"nbt":"number[]","storage":"temp","interpret":true,"separator":""},{"text":" -","color":"#FF3E30","bold":true},{"nbt":"output.data.sale","storage":"databases","color":"#FF3E30","bold":true},{"text":"x","color":"#FF3E30","bold":true},{"text":"\\uaae0"},{"translate":"shop.on_sale","color":"#FF3E30","bold":true},{"text":"\\n\\n"},{"translate":"shop.coins","color":"#FFE878","bold":true,"italic":false},{"text":" \\uaae0"}]'

execute if data storage databases {output:{data:{currency:1b}}} if data storage databases {output:{data:{sale:0}}} run data modify entity @e[tag=mck_shop_text,limit=1,sort=nearest,type=text_display] text set value '[{"text":""},{"nbt":"output.data.icon.tag.display.Name","storage":"databases","interpret":true},{"nbt":"in_stock[]","storage":"temp","interpret":true,"separator":""},{"text":"\\n\\n"},{"nbt":"output.data.icon.tag.display.Lore[0]","storage":"databases","interpret":true},{"text":"\\n"},{"nbt":"output.data.icon.tag.display.Lore[1]","storage":"databases","interpret":true},{"text":"\\n\\n"},{"nbt":"number[]","storage":"temp","interpret":true,"separator":""},{"text":"\\n\\n"},{"translate":"shop.kart_fragments","color":"#FF8C69","bold":true,"italic":false},{"text":" \\uaae1"}]'
execute if data storage databases {output:{data:{currency:1b}}} unless data storage databases {output:{data:{sale:0}}} run data modify entity @e[tag=mck_shop_text,limit=1,sort=nearest,type=text_display] text set value '[{"text":""},{"nbt":"output.data.icon.tag.display.Name","storage":"databases","interpret":true},{"nbt":"in_stock[]","storage":"temp","interpret":true,"separator":""},{"text":"\\n\\n"},{"nbt":"output.data.icon.tag.display.Lore[0]","storage":"databases","interpret":true},{"text":"\\n"},{"nbt":"output.data.icon.tag.display.Lore[1]","storage":"databases","interpret":true},{"text":"\\n\\n"},{"nbt":"number[]","storage":"temp","interpret":true,"separator":""},{"text":" -","color":"#FF3E30","bold":true},{"nbt":"output.data.sale","storage":"databases","color":"#FF3E30","bold":true},{"text":"x","color":"#FF3E30","bold":true},{"text":"\\uaae1"},{"translate":"shop.on_sale","color":"#FF3E30","bold":true},{"text":"\\n\\n"},{"translate":"shop.kart_fragments","color":"#FF8C69","bold":true,"italic":false},{"text":" \\uaae1"}]'